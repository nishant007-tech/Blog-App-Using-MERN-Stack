{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/nishant/Node JS Tut/auth-using-nodejs-reactjs/client/src/components/home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // import { myContext } from './contextApiForUserLoggedIn';\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nfunction Home() {\n  _s();\n\n  const [userData, setuserData] = useState({\n    name: ''\n  });\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    async function fetchUsers() {\n      try {\n        let token = JSON.parse(localStorage.getItem('token'));\n\n        if (token) {\n          const response = await axios.get('/api/user/profile', {\n            headers: {\n              \"x-auth-token\": token\n            }\n          });\n          setuserData({\n            name: response.data.user.name\n          });\n        }\n      } catch (err) {\n        console.log(err.data);\n      }\n    }\n\n    fetchUsers();\n  }, []);\n\n  if (token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"WEB BLOGGER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create an account and share your thoughts with others.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Welcome, \", userData.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/createpost\",\n            children: \"Create Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"WEB BLOGGER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create an account and share your thoughts with others.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Home, \"OjSa4PtK3dt5icuMgLnap/IS5Dk=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/nishant/Node JS Tut/auth-using-nodejs-reactjs/client/src/components/home.js"],"names":["React","useState","useEffect","axios","Link","Home","userData","setuserData","name","token","localStorage","getItem","fetchUsers","JSON","parse","response","get","headers","data","user","err","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACZ,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC;AACrCO,IAAAA,IAAI,EAAE;AAD+B,GAAD,CAAxC;AAGA,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAeU,UAAf,GAA4B;AACxB,UAAI;AACA,YAAIH,KAAK,GAAGI,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;;AACA,YAAIF,KAAJ,EAAW;AACP,gBAAMM,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,mBAAV,EACnB;AAAEC,YAAAA,OAAO,EAAE;AAAE,8BAAgBR;AAAlB;AAAX,WADmB,CAAvB;AAGAF,UAAAA,WAAW,CAAC;AACRC,YAAAA,IAAI,EAAEO,QAAQ,CAACG,IAAT,CAAcC,IAAd,CAAmBX;AADjB,WAAD,CAAX;AAGH;AACJ,OAVD,CAUE,OAAOY,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACF,IAAhB;AACH;AACJ;;AACDN,IAAAA,UAAU;AACb,GAjBQ,EAiBN,EAjBM,CAAT;;AAkBA,MAAIH,KAAJ,EAAW;AAEP,wBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA,oCAAaH,QAAQ,CAACE,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAcH,GAhBD,MAiBK;AACD,wBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAMI;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAiBH;AAEJ;;GA7DQH,I;;KAAAA,I;AA8DT,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n// import { myContext } from './contextApiForUserLoggedIn';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nfunction Home() {\n    const [userData, setuserData] = useState({\n        name: ''\n    });\n    const token = localStorage.getItem('token');\n\n    useEffect(() => {\n        async function fetchUsers() {\n            try {\n                let token = JSON.parse(localStorage.getItem('token'));\n                if (token) {\n                    const response = await axios.get('/api/user/profile',\n                        { headers: { \"x-auth-token\": token } }\n                    );\n                    setuserData({\n                        name: response.data.user.name,\n                    })\n                }\n            } catch (err) {\n                console.log(err.data);\n            }\n        }\n        fetchUsers();\n    }, []);\n    if (token) {\n\n        return (\n            <div className=\"container3\">\n                <div className=\"content3\">\n                    <div>\n                        <b>WEB BLOGGER</b>\n                        <p>Create an account and share your thoughts with others.</p>\n                        <b>Welcome, {userData.name}</b>\n                        <Link to='/createpost'>\n                            Create Post\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    else {\n        return (\n            <div className=\"container3\">\n                <div className=\"content3\">\n                    <div>\n                        <b>WEB BLOGGER</b>\n                        <p>Create an account and share your thoughts with others.</p>\n                        <Link to='/register'>\n                            Register\n                        </Link>\n                        <b></b>\n                        <Link to='/login'>\n                            Login\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}